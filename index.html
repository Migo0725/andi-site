<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ðŸ’Œ i love you, my baby</title>
<style>
  :root{
    --bg: #fff0f6;
    --pink: #ff6fa3;
    --dark-pink: #ff2d7a;
    --soft-pink: #ffb6d5;
    --text: #7a0b3b;
    --tulip-green: #2e9b57;
  }

  html,body{
    height:100%;
    margin:0;
    font-family: "Segoe UI", system-ui;
    background: transparent;
    display:flex;
    align-items:center;
    justify-content:center;
    overflow:hidden;
    position:relative;
  }

  /* GLOBAL floating hearts layer (full-screen) */
  .hearts-layer {
    position:fixed;
    left:0;
    top:0;
    width:100%;
    height:100%;
    overflow:hidden;
    pointer-events:none;
    z-index:1;
  }

  /* Popup card */
  .popup {
    width: min(92vw, 720px);
    height: min(78vh, 480px);
    background: var(--bg);
    border-radius: 18px;
    box-shadow: 0 20px 40px rgba(120,20,60,0.12);
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(255,160,190,0.12);
    z-index:2;
  }

  .header {
    position:absolute;
    top:18px;
    left:20px;
    right:20px;
    display:flex;
    justify-content:space-between;
    align-items:center;
  }

  .center {
    position:absolute;
    top:56px;
    left:24px;
    right:24px;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    text-align:center;
    gap:8px;
    z-index:6;
  }

  .message {
    font-size:32px;
    font-weight:800;
    color:var(--text);
  }
  .sub {
    color:#a03b5a;
    opacity:0.85;
    font-size:14px;
  }

  .ribbon {
    position:absolute;
    left:0;
    right:0;
    bottom:0;
    height:120px;
    background: transparent; /* removed pink background */
    border-top-left-radius:60px;
    border-top-right-radius:60px;
    z-index:3;
    display:flex;
    align-items:flex-end;
    justify-content:center;
    padding-bottom:12px;
  }

  .tulips {
    display:flex;
    gap:24px;
    align-items:flex-end;
    transform: translateY(4px);
    z-index:4;
  }

  .close {
    background:#ffd6e8;
    border:none;
    padding:8px 12px;
    border-radius:12px;
    cursor:pointer;
    font-weight:700;
    color:#6a1631;
    transition:transform .12s ease;
  }
  .close:active { transform:translateY(1px) }

  .tulip-svg {
    transform-origin:center bottom;
    animation: sway 4s ease-in-out infinite;
  }
  @keyframes sway {
    0% { transform: translateY(0) rotate(-1deg); }
    50% { transform: translateY(-4px) rotate(1deg); }
    100% { transform: translateY(0) rotate(-1deg); }
  }

  /* small performance hint: ensure svg hearts are not selectable */
  svg.heart-svg { user-select:none; -webkit-user-select:none; }
</style>
</head>

<body>

<!-- GLOBAL BACKGROUND HEARTS (fixed!) -->
<div class="hearts-layer" id="heartsLayer"></div>

<!-- POPUP -->
<div class="popup" role="dialog" aria-label="Love popup">
  <div class="header">
    <svg width="36" height="28" viewBox="0 0 24 24" fill="none">
      <path d="M12 21s-7-4.35-9-7.5C0.5 9 5 4 8 4c1.5 0 2.5 1 3 2 .5-1 1.5-2 3-2 3 0 7.5 5 5 9.5-2 3.15-9 7.5-9 7.5z" fill="#ff9ecb"/>
    </svg>
    <button class="close" id="closeBtn">Close</button>
  </div>

  <div class="center">
    <div class="message">i love you, my baby</div>
    <div class="sub">tulips for youðŸŒ·</div>
  </div>

  <div class="ribbon">
    <div class="tulips">

      <!-- White tulip -->
      <svg class="tulip-svg" width="84" height="120" viewBox="0 0 84 120">
        <path d="M42 36 v48" stroke="#2e9b57" stroke-width="6" stroke-linecap="round"/>
        <path d="M42 68 C14 86 26 102 42 88" fill="#2e9b57"/>
        <ellipse cx="42" cy="32" rx="24" ry="24" fill="white"/>
        <ellipse cx="30" cy="18" rx="16" ry="20" fill="white"/>
        <ellipse cx="54" cy="18" rx="16" ry="20" fill="white"/>
      </svg>

      <!-- Pink tulip -->
      <svg class="tulip-svg" width="84" height="120" viewBox="0 0 84 120">
        <path d="M42 36 v48" stroke="#2e9b57" stroke-width="6" stroke-linecap="round"/>
        <path d="M42 68 C14 86 26 102 42 88" fill="#2e9b57"/>
        <ellipse cx="42" cy="32" rx="24" ry="24" fill="#ff9ecb"/>
        <ellipse cx="30" cy="18" rx="16" ry="20" fill="#ff9ecb"/>
        <ellipse cx="54" cy="18" rx="16" ry="20" fill="#ff9ecb"/>
      </svg>

      <!-- Light blue tulip -->
      <svg class="tulip-svg" width="84" height="120" viewBox="0 0 84 120">
        <path d="M42 36 v48" stroke="#2e9b57" stroke-width="6" stroke-linecap="round"/>
        <path d="M42 68 C14 86 26 102 42 88" fill="#2e9b57"/>
        <ellipse cx="42" cy="32" rx="24" ry="24" fill="#8ecaff"/>
        <ellipse cx="30" cy="18" rx="16" ry="20" fill="#8ecaff"/>
        <ellipse cx="54" cy="18" rx="16" ry="20" fill="#8ecaff"/>
      </svg>

    </div>
  </div>
</div>

<script>
/* FLOATING HEARTS CODE â€” tuned for more hearts and faster float */

const heartsLayer = document.getElementById('heartsLayer');
const closeBtn = document.getElementById('closeBtn');

closeBtn.addEventListener('click', () => {
  const popup = document.querySelector('.popup');
  popup.style.transition = 'transform .36s ease, opacity .36s ease';
  popup.style.transform = 'scale(.96)';
  popup.style.opacity = '0';
  setTimeout(()=> popup.remove(), 380);
});

function createHeartSVG(color, size=36){
  const svgNS = "http://www.w3.org/2000/svg";
  const svg = document.createElementNS(svgNS,'svg');
  svg.setAttribute('width', size);
  svg.setAttribute('height', size);
  svg.setAttribute('viewBox','0 0 24 24');
  svg.classList.add('heart-svg');
  svg.style.position = 'absolute';
  svg.style.left = '0px';
  svg.style.top = '0px';
  // path
  const path = document.createElementNS(svgNS, 'path');
  path.setAttribute('d', 'M12 21s-7-4.35-9-7.5C0.5 9 5 4 8 4c1.5 0 2.5 1 3 2 .5-1 1.5-2 3-2 3 0 7.5 5 5 9.5-2 3.15-9 7.5-9 7.5z');
  path.setAttribute('fill', color);
  svg.appendChild(path);
  return svg;
}

const COLORS = ['#ff6fa3', '#ff2d7a', '#ffb6d5'];
let hearts = [];

/* CONFIG: tweak these to change behavior */
const MAX_HEARTS = 50;        // maximum hearts on screen
const SPAWN_PROB = 0.25;      // each frame chance to spawn while under max
const SPEED_MULT = 3.0;       // speed multiplier (higher = faster upward)
const DRIFT_MULT = 1.0;       // horizontal drift multiplier

function spawnHeart(opts = {}){
  const size = opts.size ?? (Math.random() * 28 + 18);
  const color = opts.color ?? COLORS[Math.floor(Math.random()*COLORS.length)];
  const el = createHeartSVG(color, size);

  const startX = opts.x ?? (Math.random() * window.innerWidth);
  const startY = opts.y ?? (window.innerHeight + 40 + Math.random() * 80);

  el.style.transform = `translate3d(${startX}px, ${startY}px, 0)`;
  heartsLayer.appendChild(el);

  hearts.push({
    el,
    x: startX,
    y: startY,
    speed: (Math.random()*0.6 + 0.4),         // base speed
    drift: (Math.random()*1.6 - 0.8),         // base drift
    life: 0,
    maxLife: Math.random()*420 + 300
  });
}

function animate(){
  for (let i = hearts.length - 1; i >= 0; i--){
    const h = hearts[i];
    // move
    h.y -= h.speed * SPEED_MULT;
    h.x += h.drift * DRIFT_MULT;
    h.life++;

    // apply transform using translate3d for smooth GPU motion
    h.el.style.transform = `translate3d(${h.x}px, ${h.y}px, 0)`;

    // fade slightly as they age
    const fade = 1 - (h.life / h.maxLife);
    h.el.style.opacity = Math.max(0, Math.min(1, fade));

    // remove if out of bounds or life over
    if (h.life > h.maxLife || h.y < -120 || h.x < -200 || h.x > window.innerWidth + 200) {
      h.el.remove();
      hearts.splice(i, 1);
    }
  }

  // spawn new hearts while under MAX_HEARTS
  if (hearts.length < MAX_HEARTS && Math.random() < SPAWN_PROB) {
    spawnHeart();
  }

  requestAnimationFrame(animate);
}

/* initial burst */
for (let i = 0; i < 20; i++){
  spawnHeart({
    x: Math.random() * window.innerWidth,
    y: window.innerHeight * 0.6 + Math.random()*120,
    size: Math.random()*28 + 12,
    speed: Math.random()*0.8 + 0.3,
    drift: Math.random()*1.6 - 0.8
  });
}

animate();

/* Responsive: when window size changes, allow hearts to continue naturally */
window.addEventListener('resize', () => { /* nothing needed; positions are absolute */ });

</script>

</body>
</html>
